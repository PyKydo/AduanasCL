<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Soporte de Emergencia - Portal de Gestión Aduanera</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <script>
      // Aplicar modo oscuro inmediatamente para evitar flash
      (function () {
        const theme = localStorage.getItem("theme");
        const prefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        if (theme === "dark" || (!theme && prefersDark)) {
          document.documentElement.classList.add("darkmode");
        }
      })();
    </script>
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/cards.css" />
    <link rel="stylesheet" href="assets/css/forms.css" />
  </head>
  <body>
    <a
      href="https://www.gob.cl/"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="Gobierno de Chile"
      class="banner-gob-header-link"
    >
      <svg
        id="Capa_1"
        data-name="Capa 1"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 109.3 31.3"
        class="banner-gob-header-svg"
      >
        <defs>
          <style>
            .cls-1 {
              fill: #fff;
            }
            .cls-2 {
              fill: #e53f40;
            }
            .cls-3 {
              fill: #006fb3;
            }
          </style>
        </defs>
        <polygon
          id="Fill-3"
          class="cls-1"
          points="54 31.3 54.7 31.3 54.7 14 54 14 54 31.3"
        />
        <path
          id="Fill-4"
          class="cls-1"
          d="M70,27.6a10.66,10.66,0,0,1-4.5,1.1c-3.7,0-5.5-2.4-5.5-6.1s1.8-5.9,5.7-5.9a6.91,6.91,0,0,1,4.1,1.1l-1.2,2.1a5.91,5.91,0,0,0-2.9-.8c-2,0-2.8,1.3-2.8,3.5,0,2.6.9,3.9,2.8,3.9a4.13,4.13,0,0,0,1.7-.3V24.5H66l-.2-2H70Z"
        />
        <path
          id="Fill-5"
          class="cls-1"
          d="M76.6,24.3c0-1.9-.5-2.4-1.3-2.4s-1.3.4-1.3,2.4.5,2.4,1.3,2.4,1.3-.5,1.3-2.4m2.7,0c0,2.9-1.4,4.4-4,4.4s-4-1.5-4-4.4c0-2.4,1.4-4.3,4-4.3s4,1.9,4,4.3"
        />
        <path
          id="Fill-6"
          class="cls-1"
          d="M84,25.9a1.66,1.66,0,0,0,1.3.8c.7,0,1.4-.6,1.4-2.4s-.6-2.4-1.4-2.4a1.89,1.89,0,0,0-1.3.5Zm-1.3,2.6H81.3V16.7H84v2.8L83.8,21a2.5,2.5,0,0,1,2.1-1c1.8,0,3.4,1.3,3.4,4.3s-1.8,4.4-3.7,4.4a2.41,2.41,0,0,1-2.4-1.2Z"
        />
        <polygon
          id="Fill-7"
          class="cls-1"
          points="90.7 28.7 93.3 28.7 93.3 26 90.7 26 90.7 28.7"
        />
        <path
          id="Fill-8"
          class="cls-1"
          d="M101.3,22.5a5,5,0,0,0-2.1-.5c-1,0-1.7.6-1.7,2.3s.6,2.3,1.7,2.3a5.57,5.57,0,0,0,2.3-.6l.5,1.9a8.17,8.17,0,0,1-3,.7c-2.8,0-4.3-1.5-4.3-4.4,0-2.7,1.5-4.3,4.3-4.3a5.59,5.59,0,0,1,3,.7Z"
        />
        <path
          id="Fill-9"
          class="cls-1"
          d="M106.1,16.7v9.2a.66.66,0,0,0,.6.7l.7.1v1.9a7.38,7.38,0,0,1-1.4.2c-1.7,0-2.6-.9-2.6-2.3V16.8h2.7Z"
        />
        <polygon
          id="Fill-10"
          class="cls-2"
          points="54.7 6 109.3 6 109.3 0 54.7 0 54.7 6"
        />
        <polygon
          id="Fill-11"
          class="cls-3"
          points="0 6 54.7 6 54.7 0 0 0 0 6"
        />
        <path
          class="cls-1"
          d="M47.6,22V19.7l-.2-.7a.52.52,0,0,0,.2-.4.5.5,0,0,0-1,0,.52.52,0,0,0,.2.4l-.2.6H43.9l-.2-.6a.52.52,0,0,0,.2-.4.5.5,0,0,0-1,0,.52.52,0,0,0,.2.4l-.2.6H40.1L40,19a.52.52,0,0,0,.2-.4.5.5,0,0,0-1,0,.52.52,0,0,0,.2.4l-.2.6H36.4l-.2-.6a.52.52,0,0,0,.2-.4.5.5,0,0,0-1,0,.52.52,0,0,0,.2.4l-.2.6H32.7V17.5l-.2-.6a.52.52,0,0,0,.2-.4.5.5,0,0,0-1,0,.52.52,0,0,0,.2.4l-.2.6H27.8l-.2-.6a.52.52,0,0,0,.2-.4.5.5,0,0,0-1,0,.52.52,0,0,0,.2.4v.6H23l-.1-.5a.76.76,0,0,0,.2-.4.5.5,0,0,0-1,0,.76.76,0,0,0,.2.4l-.2.6H18.2l-.2-.7a.52.52,0,0,0,.2-.4.5.5,0,0,0-1,0,.52.52,0,0,0,.2.4l-.2.6v2.1H14.5l-.2-.6a.76.76,0,0,0,.2-.4.5.5,0,0,0-1,0,.52.52,0,0,0,.2.4l-.2.6H10.7l-.2-.6a.52.52,0,0,0,.2-.4.5.5,0,0,0-1,0,.52.52,0,0,0,.2.4l-.2.6H7.1L6.9,19a.52.52,0,0,0,.2-.4.5.5,0,0,0-1,0,.52.52,0,0,0,.2.4l-.2.6H3.4L3.2,19a.52.52,0,0,0,.2-.4A.47.47,0,0,0,3,18.1H2.9a.47.47,0,0,0-.5.44v.06a.52.52,0,0,0,.2.4l-.2.7V22H2v1.2h.4v4.2H2v1.2H23.4V24a1.7,1.7,0,0,1,3.4,0v4.6H48V27.4h-.4V23.2H48V22Zm-42,5.4H4.1v-2H5.6Zm0-5.2v2H4.1V22.1H5.6Zm3.8,5.2H7.9v-2H9.4Zm0-5.2v2H7.9V22.1H9.4Zm3.8,5.2H11.7v-2h1.5Zm0-5.2v2H11.7V22.1h1.5ZM17,27.4H15.4v-2H17Zm0-3.3h0l-.1.1H15.4v-2h.1v-.1H17Zm3.8,3.3H19.3v-2h1.5Zm0-5.2v2H19.3V22.1h1.5Zm0-1.2H19.3V19h1.5Zm5.1,0H24.1V19h1.8Zm4.7,6.4H29.1v-2h1.5Zm0-5.2v2H29.1V22.1h1.5Zm0-1.2H29.1V19h1.5Zm3.9,6.4H33v-2h1.5Zm0-5.2v2H33V22.1h1.5Zm3.8,5.2H36.8v-2h1.5Zm0-5.2v2H36.8V22.1h1.5ZM42,27.4H40.5v-2H42Zm0-5.2v2H40.5V22.1H42Zm3.8,5.2H44.3v-2h1.5Zm0-5.2v2H44.3V22.1h1.5Z"
        />
      </svg>
    </a>
    <header>
      <div class="logo">
        <a href="index.html"
          ><img src="assets/icons/logo.png" alt="Logo Institucional"
        /></a>
      </div>
      <nav class="main-nav">
        <button
          class="menu-toggle"
          aria-expanded="false"
          aria-controls="menu-items"
          aria-haspopup="menu"
        >
          <span class="sr-only">Abrir menú principal</span
          ><img
            src="assets/icons/menu-icon.svg"
            alt=""
            style="width: 24px; height: 24px"
          />
        </button>
        <ul id="menu-items" class="menu-items">
          <li><a href="index.html">Inicio</a></li>
          <li><a href="tramites.html">Trámites</a></li>
          <li><a href="seguimiento.html">Seguimiento</a></li>
          <li><a href="contacto.html">Contacto</a></li>
          <li>
            <button
              class="darkmode-toggle"
              id="themeToggle"
              aria-label="Cambiar modo oscuro/claro"
            >
              <span class="material-symbols-outlined">dark_mode</span>
            </button>
          </li>
          <li>
            <button
              class="login-toggle"
              id="loginToggle"
              aria-label="Iniciar sesión"
            >
              <span class="material-symbols-outlined">login</span>
              <span class="login-text">Iniciar Sesión</span>
            </button>
          </li>
          <li>
            <label for="lang-select" class="sr-only">Seleccionar Idioma</label>
            <select
              id="lang-select"
              name="language"
              title="Selector de idioma. La traducción completa del sitio aún no está implementada."
            >
              <option value="es" lang="es" selected>Español</option>
              <option value="en" lang="en">Inglés</option>
            </select>
          </li>
        </ul>
      </nav>
    </header>

    <!-- Panel de Autenticación -->
    <div id="auth-panel" class="auth-panel" style="display: none">
      <div class="auth-content">
        <div class="auth-header">
          <h2>Iniciar Sesión</h2>
          <button
            class="auth-close"
            id="authClose"
            aria-label="Cerrar panel de autenticación"
          >
            <span class="material-symbols-outlined">close</span>
          </button>
        </div>
        <form id="login-form" class="auth-form">
          <div class="form-group">
            <label for="login-rut">RUT:</label>
            <input
              type="text"
              id="login-rut"
              name="rut"
              placeholder="12345678-9"
              required
            />
            <div class="error-message" aria-live="polite"></div>
          </div>
          <div class="form-group">
            <label for="login-password">Contraseña:</label>
            <input
              type="password"
              id="login-password"
              name="password"
              placeholder="Ingrese su contraseña"
              required
            />
            <div class="error-message" aria-live="polite"></div>
          </div>
          <div class="form-group">
            <label for="login-role">Tipo de Usuario:</label>
            <select id="login-role" name="role" required>
              <option value="">Seleccione un rol...</option>
              <option value="usuario">Usuario (Viajero)</option>
              <option value="funcionario">Funcionario de Aduanas</option>
              <option value="admin">Administrador</option>
            </select>
            <div class="error-message" aria-live="polite"></div>
          </div>
          <button type="submit" class="button button-primary">
            Iniciar Sesión
          </button>
        </form>
      </div>
    </div>

    <!-- Panel de Usuario Autenticado -->
    <div id="user-panel" class="user-panel" style="display: none">
      <div class="user-content">
        <div class="user-header">
          <div class="user-info">
            <span class="material-symbols-outlined">account_circle</span>
            <div>
              <h3 id="user-name">Usuario</h3>
              <p id="user-role">Rol</p>
            </div>
          </div>
          <button class="logout-btn" id="logoutBtn" aria-label="Cerrar sesión">
            <span class="material-symbols-outlined">logout</span>
            <span>Cerrar Sesión</span>
          </button>
        </div>
        <div class="user-dashboard">
          <div class="dashboard-metrics">
            <div class="metric-card">
              <span class="material-symbols-outlined">description</span>
              <div>
                <h4>Trámites Activos</h4>
                <p id="active-procedures">0</p>
              </div>
            </div>
            <div class="metric-card">
              <span class="material-symbols-outlined">schedule</span>
              <div>
                <h4>Pendientes</h4>
                <p id="pending-procedures">0</p>
              </div>
            </div>
            <div class="metric-card">
              <span class="material-symbols-outlined">check_circle</span>
              <div>
                <h4>Completados</h4>
                <p id="completed-procedures">0</p>
              </div>
            </div>
          </div>
          <div class="quick-actions">
            <h4>Acciones Rápidas</h4>
            <div class="action-buttons">
              <button
                class="button button-secondary"
                onclick="window.location.href='tramites.html'"
              >
                <span class="material-symbols-outlined">add</span>
                Nuevo Trámite
              </button>
              <button
                class="button button-secondary"
                onclick="window.location.href='seguimiento.html'"
              >
                <span class="material-symbols-outlined">search</span>
                Seguimiento
              </button>
              <button
                class="button button-secondary"
                id="adminPanelBtn"
                style="display: none"
              >
                <span class="material-symbols-outlined"
                  >admin_panel_settings</span
                >
                Panel Admin
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <main id="main-content">
      <h1>
        <span data-translate-key="contact_title">Contacto y Soporte</span>
      </h1>
      <p>
        <span data-translate-key="contact_intro_p"
          >Utilice el siguiente formulario para consultas generales o técnicas,
          o consulte nuestra información de contacto directo y preguntas
          frecuentes.</span
        >
      </p>

      <!-- Cards de Contacto Responsivas -->
      <div class="contact-cards">
        <div class="contact-card card">
          <span class="material-symbols-outlined">phone</span>
          <h3>Contacto Telefónico</h3>
          <p>
            Contact Center: 600 570 70 40<br />
            Horario: Lunes a Viernes, 9:00 - 18:00 hrs
          </p>
        </div>
        <div class="contact-card card">
          <span class="material-symbols-outlined">email</span>
          <h3>Email de Soporte</h3>
          <p>
            Email General:
            <a href="mailto:info@aduanaejemplo.cl">info@aduanaejemplo.cl</a
            ><br />
            Respuesta en 24-48 horas
          </p>
        </div>
        <div class="contact-card card">
          <span class="material-symbols-outlined">location_on</span>
          <h3>Ubicación Central</h3>
          <p>
            Sotomayor 60, Valparaíso<br />
            Valparaíso, Chile
          </p>
        </div>
      </div>

      <section id="contact-form-section" aria-labelledby="contact-form-heading">
        <h2 id="contact-form-heading">
          <span data-translate-key="contact_form_section_title"
            >Formulario de Contacto</span
          >
        </h2>
        <form id="contact-form" class="contact-form" novalidate>
          <div class="form-group">
            <label for="nombre-contacto"
              ><span data-translate-key="contact_form_name_label"
                >Nombre Completo</span
              >: *</label
            >
            <input
              type="text"
              id="nombre-contacto"
              name="nombreContacto"
              placeholder="Su nombre completo"
              required
            />
            <div class="error-message" aria-live="polite"></div>
          </div>
          <div class="form-group">
            <label for="email-contacto"
              ><span data-translate-key="contact_form_email_label">Email</span>:
              *</label
            >
            <input
              type="email"
              id="email-contacto"
              name="emailContacto"
              placeholder="su.email@ejemplo.com"
              required
            />
            <div class="error-message" aria-live="polite"></div>
          </div>
          <div class="form-group">
            <label for="tipo-consulta"
              ><span data-translate-key="contact_form_query_type_label"
                >Tipo de Consulta</span
              >: *</label
            >
            <select id="tipo-consulta" name="tipoConsulta" required>
              <option value="">
                <span data-translate-key="contact_form_query_type_option_select"
                  >Seleccione una opción...</span
                >
              </option>
              <option value="general">
                <span
                  data-translate-key="contact_form_query_type_option_general"
                  >Consulta General</span
                >
              </option>
              <option value="tecnica">
                <span
                  data-translate-key="contact_form_query_type_option_technical"
                  >Soporte Técnico</span
                >
              </option>
              <option value="urgente">
                <span data-translate-key="contact_form_query_type_option_urgent"
                  >Asistencia Urgente sobre Trámite</span
                >
              </option>
            </select>
            <div class="error-message" aria-live="polite"></div>
          </div>
          <div class="form-group">
            <label for="mensaje-contacto"
              ><span data-translate-key="contact_form_message_label"
                >Mensaje</span
              >: *</label
            >
            <textarea
              id="mensaje-contacto"
              name="mensajeContacto"
              rows="5"
              placeholder="Escriba su mensaje aquí (mínimo 20 caracteres)"
              required
              minlength="20"
            ></textarea>
            <div class="error-message" aria-live="polite"></div>
          </div>
          <div class="form-group">
            <input
              type="checkbox"
              id="copia-email-contacto"
              name="copiaEmailContacto"
            />
            <label for="copia-email-contacto"
              ><span data-translate-key="contact_form_copy_email_label"
                >Deseo recibir una copia de este mensaje en mi email.</span
              ></label
            >
          </div>
          <button type="submit" class="button button-primary">
            <span data-translate-key="contact_form_submit_button"
              >Enviar Mensaje</span
            >
          </button>
          <div
            id="form-feedback-contact"
            aria-live="assertive"
            style="margin-top: 1rem"
          ></div>
        </form>
      </section>

      <section
        id="direct-contact-info"
        aria-labelledby="direct-contact-heading"
      >
        <h2 id="direct-contact-heading">
          <span data-translate-key="contact_direct_info_title"
            >Información de Contacto Directo</span
          >
        </h2>
        <p>
          <strong>Horario de Atención:</strong> Lunes a Viernes, 9:00 - 18:00
          hrs (hora continental de Chile).
        </p>
        <p>
          <strong>Dirección:</strong>
          <br />
          <span>Sotomayor 60, Valparaíso</span>
          <br />
          <span>Valparaíso, Chile</span>
        </p>
        <p><strong>Contact Center:</strong> 600 570 70 40</p>
        <details class="contact-details-group">
          <summary>Teléfonos por Región</summary>
          <ul>
            <li><strong>Región Metropolitana:</strong> +56 2 XXXX XXXX</li>
            <li><strong>Valparaíso:</strong> +56 32 XXX XXXX</li>
            <li><strong>Biobío:</strong> +56 41 XXX XXXX</li>
            <li>(Otros números de ejemplo)</li>
          </ul>
        </details>
        <p>
          <strong>Email General:</strong>
          <a href="mailto:info@aduanaejemplo.cl">info@aduanaejemplo.cl</a>
        </p>
      </section>

      <section id="map-location" aria-labelledby="map-heading">
        <h2 id="map-heading">
          <span data-translate-key="contact_map_title"
            >Nuestra Ubicación Central</span
          >
        </h2>
        <div class="map-container">
          <iframe
            src="https://www.google.com/maps?q=Sotomayor+60,+Valpara%C3%ADso,+Chile&output=embed"
            width="600"
            height="450"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="Mapa de ubicación: Sotomayor 60, Valparaíso"
          >
          </iframe>
        </div>
      </section>

      <section id="faq" aria-labelledby="faq-heading">
        <h2 id="faq-heading">
          <span data-translate-key="contact_faq_title"
            >Preguntas Frecuentes (FAQ)</span
          >
        </h2>
        <div class="faq-container">
          <details class="faq-item card card-flat">
            <summary>
              <span data-translate-key="faq_import_title"
                >¿Cómo inicio un trámite de importación?</span
              >
            </summary>
            <p>
              <span data-translate-key="faq_import_answer"
                >Para iniciar un trámite de importación, diríjase a nuestra
                sección de <a href="tramites.html">Trámites</a> y seleccione
                "Importación". Deberá completar el formulario con la información
                y documentación requerida.</span
              >
            </p>
          </details>
          <details class="faq-item card card-flat">
            <summary>
              <span data-translate-key="faq_forgot_tracking_title"
                >¿Qué hago si olvidé mi número de seguimiento?</span
              >
            </summary>
            <p>
              <span data-translate-key="faq_forgot_tracking_answer"
                >Si ha olvidado su número de seguimiento, por favor, póngase en
                contacto con nuestro equipo de soporte a través de este
                formulario o los canales directos indicados, proporcionando su
                RUT y fecha aproximada de envío para que podamos
                asistirlo.</span
              >
            </p>
          </details>
          <details class="faq-item card card-flat">
            <summary>
              <span data-translate-key="faq_hours_title"
                >¿Cuáles son los horarios de atención?</span
              >
            </summary>
            <p>
              <span data-translate-key="faq_hours_answer"
                >Nuestro horario de atención es de Lunes a Viernes, de 9:00 a
                18:00 hrs (hora continental de Chile).</span
              >
            </p>
          </details>
          <details class="faq-item card card-flat">
            <summary>
              ¿Puedo realizar trámites fuera del horario de atención?
            </summary>
            <p>
              Los trámites en línea están disponibles las 24 horas del día, los
              7 días de la semana. Sin embargo, la atención personalizada y el
              soporte técnico solo están disponibles en el horario establecido.
            </p>
          </details>
          <details class="faq-item card card-flat">
            <summary>
              ¿Qué documentos necesito para un trámite de importación?
            </summary>
            <p>
              Los documentos requeridos varían según el tipo de mercancía. En
              general, necesitará: factura comercial, lista de empaque,
              certificado de origen (si aplica), y otros documentos específicos
              según la naturaleza de la importación.
            </p>
          </details>
          <details class="faq-item card card-flat">
            <summary>¿Cómo puedo verificar el estado de mi trámite?</summary>
            <p>
              Puede verificar el estado de su trámite en la sección de
              <a href="seguimiento.html">Seguimiento</a> ingresando su número de
              trámite. También recibirá actualizaciones por email si proporcionó
              una dirección válida.
            </p>
          </details>
        </div>
      </section>

      <a
        href="#"
        id="whatsapp-float"
        class="whatsapp-float-button"
        aria-label="Contactar por WhatsApp (Simulado)"
        title="Contactar por WhatsApp (Simulado)"
      >
        <img
          src="assets/icons/whatsapp.png"
          alt="Contactar por WhatsApp"
          class="whatsapp-icon"
        />
      </a>
    </main>

    <div
      id="whatsapp-chat-modal"
      class="whatsapp-modal"
      style="display: none"
      role="dialog"
      aria-modal="true"
      aria-labelledby="whatsapp-modal-title"
    >
      <div class="whatsapp-modal-content">
        <div class="whatsapp-modal-header">
          <img
            src="assets/icons/logo.png"
            alt="Logo"
            class="whatsapp-header-logo"
          />
          <div class="whatsapp-header-info">
            <h3 id="whatsapp-modal-title">Soporte Aduanero</h3>
            <p>Normalmente responde en minutos</p>
          </div>
          <button class="whatsapp-modal-close" aria-label="Cerrar chat">
            &times;
          </button>
        </div>
        <div class="whatsapp-modal-body">
          <div class="whatsapp-message received">
            <p>
              ¡Hola! 👋 ¿Cómo podemos ayudarte hoy con tus trámites aduaneros?
            </p>
            <span class="whatsapp-message-time">10:30 AM</span>
          </div>
          <div class="whatsapp-message sent">
            <p>Hola, tengo una duda sobre mi declaración.</p>
            <span class="whatsapp-message-time">10:31 AM</span>
          </div>
        </div>
        <div class="whatsapp-modal-footer">
          <input type="text" placeholder="Escribe un mensaje..." />
          <button aria-label="Enviar mensaje">
            <svg fill="currentColor" viewBox="0 0 24 24" width="24" height="24">
              <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <footer>
      <p>Este es un prototipo - No todas las funcionalidades están activas</p>
      <p>
        &copy;
        <script>
          document.write(new Date().getFullYear());
        </script>
        Portal de Aduanas. Todos los derechos reservados.
      </p>
    </footer>

    <script type="module" src="assets/js/main.js" defer></script>
  </body>
</html>
